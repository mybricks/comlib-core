!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.index=t(require("react")):e.index=t(e.React)}(this,(function(__WEBPACK_EXTERNAL_MODULE__359__){return function(){"use strict";var __webpack_modules__={356:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function __WEBPACK_DEFAULT_EXPORT__(_a){var data=_a.data,outputs=_a.outputs,inputs=_a.inputs,onError=_a.onError;inputs.from((function(val,relOutpus){var _a,script=null===(_a=data.exchange)||void 0===_a?void 0:_a.script;if(script){var fn=void 0,returnVal=void 0,isOk=void 0;try{eval("fn = ".concat(script)),returnVal=fn(val),isOk=!0}catch(e){console.error(e),onError("数据转换错误:".concat(e.message),e)}isOk&&outputs.to(returnVal)}else onError("未配置转换规则")}))}__webpack_require__.d(__webpack_exports__,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}})},359:function(e){e.exports=__WEBPACK_EXTERNAL_MODULE__359__}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};return function(){function e(e){if(e)try{var t=Object.prototype.toString.call(e);return["[object Object]","[object Array]"].includes(t)?JSON.parse(JSON.stringify(e)):e}catch(t){return e}return e}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return o}});var t=__webpack_require__(356);function n(e,t){var n=e.env,r=e.data,o=e.outputs;if(e.onError,void 0===t&&(t={}),r.connector)try{n.callConnector(r.connector,t,r.connectorConfig).then((function(e){o.then(e)})).catch((function(e){o.catch(e)}))}catch(e){console.error(e),o.catch("执行错误 ".concat(e.message||e))}else o.catch("没有选择接口")}var r=__webpack_require__(359),o={id:"mybricks-core-comlib",title:"Mybrics核心组件库",author:"CheMingjun",icon:"",version:"1.0.1",comAray:[{namespace:"mybricks.core-comlib.fn",version:"1.0.0",runtime:function(e){e.inputs,e.outputs},data:{},inputs:[],outputs:[]},{namespace:"mybricks.core-comlib.var",version:"1.0.0",runtime:function(t){t.env;var n=t.data,r=t.outputs,o=t.inputs,u=t._notifyBindings;o.get((function(t,r){var o=e(void 0!==n.val?n.val:n.initValue);r.return(o)})),o.set((function(t,o){n.val=t;var i=e(t);r.changed(i,!0),u(i),o.return(i)})),o.reset((function(){var t=n.initValue;n.val=t;var o=e(t);r.changed(o,!0),u(o)}))},data:{},inputs:["get","set","reset"],outputs:["return","changed"]},{namespace:"mybricks.core-comlib.type-change",version:"1.0.0",runtime:t.Z,data:{},inputs:["from"],outputs:["to"]},{namespace:"mybricks.core-comlib.connector",version:"1.0.0",runtime:function(e){var t=e.env,r=e.data,o=e.inputs,u=e.outputs,i=e.onError;t.runtime&&(r.immediate?n({env:t,data:r,outputs:u}):o.call((function(e){n({env:t,data:r,outputs:u,onError:i},e)})))},data:{},inputs:["call"],outputs:["then","catch"]},{namespace:"mybricks.core-comlib.frame-input",version:"1.0.0",runtime:function(e){var t=e.env,n=e.inputs;t.runtime&&n.getCurValue((function(e,t){t.return(e)}))},data:{},inputs:["getCurValue"],outputs:["return"]},{namespace:"mybricks.core-comlib.scenes",version:"1.0.0",runtime:function(e){var t=e.env,n=e.data,r=e.inputs,o=(e._inputs,e._inputsCallable);r.open((function(e){t.canvas.open(n._sceneId,e,"popup"===n._sceneShowType?null:n.openType),o._open(e)}))},data:{_sceneId:null,_sceneShowType:null,openType:"blank"},inputs:["open"],outputs:[]},{namespace:"mybricks.core-comlib.module",version:"1.0.0",runtime:function(e){var t=e.id,n=e.env,o=e.data,u=e.style,i=e.inputs,c=e.outputs,a=(0,r.useState)(),_=a[0],s=a[1],p=(0,r.useMemo)((function(){var e=n.getModuleJSON(o.definedId);return n.renderModule(e,{ref:function(t){if(s(t),n.edit){var r=t.style;r&&(u.widthAuto=r.widthAuto,u.widthFull=r.widthFull,u.heightAuto=r.heightAuto,u.heightFull=r.heightFull)}if(n.runtime){var a=e.inputs,_=e.outputs,p=e.pinRels,l={},d={};Object.entries(p).forEach((function(e){var t=e[0],n=e[1],r=t.split("_rootFrame_-")[1];if(r){var o=n[0];l[r]=o,d[o]=!0}}));var f=o.configs;for(var v in f)t.inputs[v](f[v]);_.forEach((function(e){var n=e.id;d[n]||t.outputs(n,c[n])})),a.forEach((function(e){var n=e.id;i[n]((function(e,r){var o=l[n];o&&t.outputs(o,(function(e){r[o](e)})),t.inputs[n](e)}))}))}t.run()},disableAutoRun:!0,outputs:c,rootId:t})}),[]);return(0,r.useMemo)((function(){if(_&&n.edit){var e=o.configs;for(var t in e)_.inputs[t](e[t])}}),[o.configs,_]),p},data:{},inputs:["show","hide","showOrHide"],outputs:["click"]},{namespace:"mybricks.core-comlib.group",version:"1.0.0",runtime:function(e){var t=e.slots,n=e.outputs,o=(0,r.useCallback)((function(){n.click()}),[]),u=(0,r.useCallback)((function(){n.dblClick()}),[]);return React.createElement("div",{style:{width:"100%",height:"100%"},onClick:o,onDoubleClick:u},t.content.render())},data:{},inputs:["show","hide","showOrHide"],outputs:["click","dblClick"]},{namespace:"mybricks.core-comlib.service",version:"1.0.0",runtime:function(e){e.inputs,e.outputs},data:{},inputs:[],outputs:[]},{namespace:"mybricks.core-comlib.frame-output",version:"1.0.0",runtime:function(e){var t=e.env,n=(e.data,e.inputs);e.outputs,t.runtime&&n.output((function(e){}))},data:{},inputs:["output"],outputs:[]}]}}(),__webpack_exports__}()}));