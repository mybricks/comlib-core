!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.index=t(require("react")):e.index=t(e.React)}(this,(__WEBPACK_EXTERNAL_MODULE__359__=>(()=>{"use strict";var __webpack_modules__={356:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function __WEBPACK_DEFAULT_EXPORT__({data,outputs,inputs,onError}){inputs.from(((val,relOutpus)=>{var _a;const script=null===(_a=data.exchange)||void 0===_a?void 0:_a.script;if(script){let fn,returnVal,isOk;try{eval(`fn = ${script}`),returnVal=fn(val),isOk=!0}catch(e){console.error(e),onError(`数据转换错误:${e.message}`,e)}isOk&&outputs.to(returnVal)}else onError("未配置转换规则")}))}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__})},359:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE__359__}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{function e(e){if(e)try{const t=Object.prototype.toString.call(e);return["[object Object]","[object Array]"].includes(t)?JSON.parse(JSON.stringify(e)):e}catch(t){return e}return e}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>n});var t=__webpack_require__(356);function r({env:e,data:t,outputs:r,onError:o},n={}){if(t.connector)try{e.callConnector(t.connector,n,t.connectorConfig).then((e=>{r.then(e)})).catch((e=>{r.catch(e)}))}catch(e){console.error(e),r.catch(`执行错误 ${e.message||e}`)}else r.catch("没有选择接口")}var o=__webpack_require__(359);const n={id:"mybricks-core-comlib",title:"Mybrics核心组件库",author:"CheMingjun",icon:"",version:"1.0.1",comAray:[{namespace:"mybricks.core-comlib.fn",version:"1.0.0",runtime:function({inputs:e,outputs:t}){},data:{},inputs:[],outputs:[]},{namespace:"mybricks.core-comlib.var",version:"1.0.0",runtime:function({env:t,data:r,outputs:o,inputs:n,_notifyBindings:c}){n.get(((t,o)=>{const n=e(void 0!==r.val?r.val:r.initValue);o.return(n)})),n.set(((t,n)=>{r.val=t;const u=e(t);o.changed(u,!0),c(u),n.return(u)})),n.reset((()=>{const t=r.initValue;r.val=t;const n=e(t);o.changed(n,!0),c(n)}))},data:{},inputs:["get","set","reset"],outputs:["return","changed"]},{namespace:"mybricks.core-comlib.type-change",version:"1.0.0",runtime:t.Z,data:{},inputs:["from"],outputs:["to"]},{namespace:"mybricks.core-comlib.connector",version:"1.0.0",runtime:function({env:e,data:t,inputs:o,outputs:n,onError:c}){e.runtime&&(t.immediate?r({env:e,data:t,outputs:n}):o.call((o=>{r({env:e,data:t,outputs:n,onError:c},o)})))},data:{},inputs:["call"],outputs:["then","catch"]},{namespace:"mybricks.core-comlib.frame-input",version:"1.0.0",runtime:function({env:e,inputs:t}){e.runtime&&t.getCurValue(((e,t)=>{t.return(e)}))},data:{},inputs:["getCurValue"],outputs:["return"]},{namespace:"mybricks.core-comlib.scenes",version:"1.0.0",runtime:function({env:e,data:t,inputs:r,_inputs:o,_inputsCallable:n}){r.open((r=>{e.canvas.open(t._sceneId,r,"popup"===t._sceneShowType?null:t.openType),n._open(r)}))},data:{_sceneId:null,_sceneShowType:null,openType:"blank"},inputs:["open"],outputs:[]},{namespace:"mybricks.core-comlib.module",version:"1.0.0",runtime:function({env:e,data:t,style:r,inputs:n,outputs:c}){const[u,i]=(0,o.useState)(),_=(0,o.useMemo)((()=>{const o=e.getModuleJSON(t.definedId);return e.renderModule(o,{ref(u){if(i(u),e.edit){const e=u.style;e&&(r.widthAuto=e.widthAuto,r.widthFull=e.widthFull,r.heightAuto=e.heightAuto,r.heightFull=e.heightFull)}if(e.runtime){const{inputs:e,outputs:r,pinRels:i}=o,_={},s={};Object.entries(i).forEach((([e,t])=>{const r=e.split("_rootFrame_-")[1];if(r){const e=t[0];_[r]=e,s[e]=!0}}));const a=t.configs;for(let e in a)u.inputs[e](a[e]);r.forEach((({id:e})=>{s[e]||u.outputs(e,c[e])})),e.forEach((({id:e})=>{n[e](((t,r)=>{const o=_[e];o&&u.outputs(o,(e=>{r[o](e)})),u.inputs[e](t)}))}))}u.run()},disableAutoRun:!0,outputs:c})}),[]);return(0,o.useMemo)((()=>{if(u&&e.edit){const e=t.configs;for(let t in e)u.inputs[t](e[t])}}),[t.configs,u]),_},data:{},inputs:["show","hide","showOrHide"],outputs:["click"]},{namespace:"mybricks.core-comlib.group",version:"1.0.0",runtime:function({slots:e,outputs:t}){const r=(0,o.useCallback)((()=>{t.click()}),[]),n=(0,o.useCallback)((()=>{t.dblClick()}),[]);return React.createElement("div",{style:{width:"100%",height:"100%"},onClick:r,onDoubleClick:n},e.content.render())},data:{},inputs:["show","hide","showOrHide"],outputs:["click","dblClick"]}]}})(),__webpack_exports__})()));