!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.index=t(require("react")):e.index=t(e.React)}(this,(__WEBPACK_EXTERNAL_MODULE__359__=>(()=>{"use strict";var __webpack_modules__={356:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function __WEBPACK_DEFAULT_EXPORT__({data,outputs,inputs,onError}){inputs.from(((val,relOutpus)=>{var _a;const script=null===(_a=data.exchange)||void 0===_a?void 0:_a.script;if(script){let fn,returnVal,isOk;try{eval(`fn = ${script}`),returnVal=fn(val),isOk=!0}catch(e){console.error(e),onError(`数据转换错误:${e.message}`,e)}isOk&&outputs.to(returnVal)}else onError("未配置转换规则")}))}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__})},359:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE__359__}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var o=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](o,o.exports,__webpack_require__),o.exports}__webpack_require__.d=(e,t)=>{for(var o in t)__webpack_require__.o(t,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{function e(e){if(e)try{const t=Object.prototype.toString.call(e);return["[object Object]","[object Array]"].includes(t)?JSON.parse(JSON.stringify(e)):e}catch(t){return e}return e}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>n});var t=__webpack_require__(356);function o({env:e,data:t,outputs:o,onError:r},n={}){if(t.connector)try{e.callConnector(t.connector,n,t.connectorConfig).then((e=>{o.then(e)})).catch((e=>{o.catch(e)}))}catch(e){console.error(e),o.catch(`执行错误 ${e.message||e}`)}else o.catch("没有选择接口")}var r=__webpack_require__(359);const n={id:"mybricks-core-comlib",title:"Mybrics核心组件库",author:"CheMingjun",icon:"",version:"1.0.1",comAray:[{namespace:"mybricks.core-comlib.fn",version:"1.0.0",runtime:function({inputs:e,outputs:t}){},data:{},inputs:[],outputs:[]},{namespace:"mybricks.core-comlib.var",version:"1.0.0",runtime:function({env:t,data:o,outputs:r,inputs:n,_notifyBindings:u}){n.get(((t,r)=>{const n=e(void 0!==o.val?o.val:o.initValue);r.return(n)})),n.set(((t,n)=>{o.val=t;const c=e(t);r.changed(c,!0),u(c),n.return(c)})),n.reset((()=>{const t=o.initValue;o.val=t;const n=e(t);r.changed(n,!0),u(n)}))},data:{},inputs:["get","set","reset"],outputs:["return","changed"]},{namespace:"mybricks.core-comlib.type-change",version:"1.0.0",runtime:t.Z,data:{},inputs:["from"],outputs:["to"]},{namespace:"mybricks.core-comlib.connector",version:"1.0.0",runtime:function({env:e,data:t,inputs:r,outputs:n,onError:u}){e.runtime&&(t.immediate?o({env:e,data:t,outputs:n}):r.call((r=>{o({env:e,data:t,outputs:n,onError:u},r)})))},data:{},inputs:["call"],outputs:["then","catch"]},{namespace:"mybricks.core-comlib.frame-input",version:"1.0.0",runtime:function({env:e,inputs:t}){e.runtime&&t.getCurValue(((e,t)=>{t.return(e)}))},data:{},inputs:["getCurValue"],outputs:["return"]},{namespace:"mybricks.core-comlib.scenes",version:"1.0.0",runtime:function({env:e,data:t,inputs:o,_inputs:r,_inputsCallable:n}){o.open((o=>{e.canvas.open(t._sceneId,o,"popup"===t._sceneShowType?null:t.openType),n._open(o)}))},data:{_sceneId:null,_sceneShowType:null,openType:"blank"},inputs:["open"],outputs:[]},{namespace:"mybricks.core-comlib.module",version:"1.0.0",runtime:function({env:e,data:t,style:o,inputs:n,outputs:u}){const[c,i]=(0,r.useState)(),s=(0,r.useMemo)((()=>{const r=e.getModuleJSON(t.definedId);return e.renderModule(r,{ref(c){if(i(c),e.edit){const e=c.style;e&&(o.widthAuto=e.widthAuto,o.widthFull=e.widthFull,o.heightAuto=e.heightAuto,o.heightFull=e.heightFull)}if(e.runtime){const{inputs:e,outputs:o,pinRels:i}=r,s={},a={};Object.entries(i).forEach((([e,t])=>{const o=e.split("_rootFrame_-")[1];if(o){const e=t[0];s[o]=e,a[e]=!0}}));const _=t.configs;for(let e in _)c.inputs[e](_[e]);o.forEach((({id:e})=>{a[e]||c.outputs(e,u[e])})),e.forEach((({id:e})=>{n[e](((t,o)=>{const r=s[e];r&&c.outputs(r,(e=>{o[r](e)})),c.inputs[e](t)}))}))}c.run()},disableAutoRun:!0,outputs:u})}),[]);return(0,r.useMemo)((()=>{if(c&&e.edit){const e=t.configs;for(let t in e)c.inputs[t](e[t])}}),[t.configs,c]),s},data:{},inputs:["show","hide","showOrHide"],outputs:["click"]},{namespace:"mybricks.core-comlib.group",version:"1.0.0",runtime:function({slots:e,outputs:t}){const o=(0,r.useCallback)((()=>{t.click()}),[]),n=(0,r.useCallback)((()=>{t.dblClick()}),[]);return React.createElement("div",{style:{width:"100%",height:"100%"},onClick:o,onDoubleClick:n},e.content.render())},data:{},inputs:["show","hide","showOrHide"],outputs:["click","dblClick"]},{namespace:"mybricks.core-comlib.service",version:"1.0.0",runtime:function({inputs:e,outputs:t}){},data:{},inputs:[],outputs:[]},{namespace:"mybricks.core-comlib.frame-output",version:"1.0.0",runtime:function({env:e,data:t,inputs:o,outputs:r}){e.runtime&&o.output((e=>{}))},data:{},inputs:["output"],outputs:[]}]}})(),__webpack_exports__})()));